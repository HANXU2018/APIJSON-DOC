(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{471:function(r,_,v){"use strict";v.r(_);var t=v(4),b=Object(t.a)({},(function(){var r=this,_=r.$createElement,v=r._self._c||_;return v("ContentSlotsDistributor",{attrs:{"slot-key":r.$parent.slotKey}},[v("h1",{attrs:{id:"第二章-对比传统restful"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#第二章-对比传统restful"}},[r._v("#")]),r._v(" 第二章-对比传统RESTful")]),r._v(" "),v("h2",{attrs:{id:"_2-对比传统restful方式"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#_2-对比传统restful方式"}},[r._v("#")]),r._v(" "),v("h2",{attrs:{id:"2"}},[r._v("2.对比传统RESTful方式"),v("h2")]),r._v(" "),v("div",{staticClass:"custom-block tip"},[v("p",{staticClass:"custom-block-title"},[r._v("TIP")]),r._v(" "),v("p",[r._v("目录\n")]),v("div",{staticClass:"table-of-contents"},[v("ul",[v("li",[v("a",{attrs:{href:"#h2-id-2-2-对比传统restful方式-h2"}},[v("h2",{attrs:{id:"2"}},[r._v("2.对比传统RESTful方式"),v("h2")])]),v("ul",[v("li",[v("a",{attrs:{href:"#h3-id-2-1-2-1-开发流程-h3"}},[v("h3",{attrs:{id:"2.1"}},[r._v("2.1 开发流程"),v("h3")])])]),v("li",[v("a",{attrs:{href:"#h3-id-2-2-2-2-前端请求-h3"}},[v("h3",{attrs:{id:"2.2"}},[r._v("2.2 前端请求"),v("h3")])])]),v("li",[v("a",{attrs:{href:"#h3-id-2-3-2-3-后端操作-h3"}},[v("h3",{attrs:{id:"2.3"}},[r._v("2.3 后端操作"),v("h3")])])]),v("li",[v("a",{attrs:{href:"#h3-id-2-4-2-4-前端解析-h3"}},[v("h3",{attrs:{id:"2.4"}},[r._v("2.4 前端解析"),v("h3")])])]),v("li",[v("a",{attrs:{href:"#h3-id-2-5-2-5-前端对应不同需求的请求-h3"}},[v("h3",{attrs:{id:"2.5"}},[r._v("2.5 前端对应不同需求的请求"),v("h3")])])]),v("li",[v("a",{attrs:{href:"#h3-id-2-6-2-6-后端对应不同请求的返回结果-h3"}},[v("h3",{attrs:{id:"2.6"}},[r._v("2.6 后端对应不同请求的返回结果"),v("h3")])])])])])])]),v("p")]),r._v(" "),v("h3",{attrs:{id:"_2-1-开发流程"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-开发流程"}},[r._v("#")]),r._v(" "),v("h3",{attrs:{id:"2.1"}},[r._v("2.1 开发流程"),v("h3")]),r._v(" "),v("table",[v("thead",[v("tr",[v("th",[r._v("开发流程")]),r._v(" "),v("th",[r._v("传统方式")]),r._v(" "),v("th",[r._v("APIJSON")])])]),r._v(" "),v("tbody",[v("tr",[v("td",[r._v("接口传输")]),r._v(" "),v("td",[r._v("等后端编辑接口，然后更新文档，前端再按照文档编辑请求和解析代码")]),r._v(" "),v("td",[r._v("前端按照自己的需求编辑请求和解析代码。"),v("br"),r._v("没有接口，更不需要文档！前端再也不用和后端沟通接口或文档问题了！")])]),r._v(" "),v("tr",[v("td",[r._v("兼容旧版")]),r._v(" "),v("td",[r._v("后端增加新接口，用v2表示第2版接口，然后更新文档")]),r._v(" "),v("td",[r._v("什么都不用做！")])])])]),r._v(" "),v("br"),r._v(" "),v("h3",{attrs:{id:"_2-2-前端请求"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-前端请求"}},[r._v("#")]),r._v(" "),v("h3",{attrs:{id:"2.2"}},[r._v("2.2 前端请求"),v("h3")]),r._v(" "),v("table",[v("thead",[v("tr",[v("th",[r._v("前端请求")]),r._v(" "),v("th",[r._v("传统方式")]),r._v(" "),v("th",[r._v("APIJSON")])])]),r._v(" "),v("tbody",[v("tr",[v("td",[r._v("要求")]),r._v(" "),v("td",[r._v("前端按照文档在对应URL后面拼接键值对")]),r._v(" "),v("td",[r._v("前端按照自己的需求在固定URL后拼接JSON")])]),r._v(" "),v("tr",[v("td",[r._v("URL")]),r._v(" "),v("td",[r._v("不同的请求对应不同的URL，基本上有多少个不同的请求就得有多少个接口URL")]),r._v(" "),v("td",[r._v("相同的操作方法(增删改查)都用同一个URL，"),v("br"),r._v("大部分请求都用7个通用接口URL的其中一个")])]),r._v(" "),v("tr",[v("td",[r._v("键值对")]),r._v(" "),v("td",[r._v("key=value")]),r._v(" "),v("td",[r._v("key:value")])]),r._v(" "),v("tr",[v("td",[r._v("结构")]),r._v(" "),v("td",[r._v("同一个URL内table_name只能有一个 "),v("br"),v("br"),r._v(" base_url/get/table_name?"),v("br"),r._v("key0=value0&key1=value1...")]),r._v(" "),v("td",[r._v("同一个URL后TableName可传任意数量个 "),v("br"),v("br"),r._v(" base_url/get/"),v("br"),r._v("{"),v("br"),r._v("    TableName0:{"),v("br"),r._v("      key0:value0,"),v("br"),r._v("      key1:value1,"),v("br"),r._v("      ..."),v("br"),r._v("    },"),v("br"),r._v("    TableName1:{"),v("br"),r._v("      ..."),v("br"),r._v("    }"),v("br"),r._v("    ..."),v("br"),r._v(" }")])])])]),r._v(" "),v("br"),r._v(" "),v("h3",{attrs:{id:"_2-3-后端操作"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-后端操作"}},[r._v("#")]),r._v(" "),v("h3",{attrs:{id:"2.3"}},[r._v("2.3 后端操作"),v("h3")]),r._v(" "),v("table",[v("thead",[v("tr",[v("th",[r._v("后端操作")]),r._v(" "),v("th",[r._v("传统方式")]),r._v(" "),v("th",[r._v("APIJSON")])])]),r._v(" "),v("tbody",[v("tr",[v("td",[r._v("解析和返回")]),r._v(" "),v("td",[r._v("取出键值对，把键值对作为条件用预设的的方式去查询数据库，最后封装JSON并返回给前端")]),r._v(" "),v("td",[r._v("把Parser#parse方法的返回值返回给前端就行")])]),r._v(" "),v("tr",[v("td",[r._v("返回JSON结构的设定方式")]),r._v(" "),v("td",[r._v("由后端设定，前端不能修改")]),r._v(" "),v("td",[r._v("由前端设定，后端不能修改")])])])]),r._v(" "),v("br"),r._v(" "),v("h3",{attrs:{id:"_2-4-前端解析"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#_2-4-前端解析"}},[r._v("#")]),r._v(" "),v("h3",{attrs:{id:"2.4"}},[r._v("2.4 前端解析"),v("h3")]),r._v(" "),v("table",[v("thead",[v("tr",[v("th",[r._v("前端解析")]),r._v(" "),v("th",[r._v("传统方式")]),r._v(" "),v("th",[r._v("APIJSON")])])]),r._v(" "),v("tbody",[v("tr",[v("td",[r._v("查看方式")]),r._v(" "),v("td",[r._v("查文档或问后端，或等请求成功后看日志")]),r._v(" "),v("td",[r._v("看请求就行，所求即所得，不用查、不用问、不用等。也可以等请求成功后看日志")])]),r._v(" "),v("tr",[v("td",[r._v("解析方法")]),r._v(" "),v("td",[r._v("用JSON解析器来解析JSONObject")]),r._v(" "),v("td",[r._v("可以用JSONResponse解析JSONObject，或使用传统方式")])])])]),r._v(" "),v("br"),r._v(" "),v("h3",{attrs:{id:"_2-5-前端对应不同需求的请求"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#_2-5-前端对应不同需求的请求"}},[r._v("#")]),r._v(" "),v("h3",{attrs:{id:"2.5"}},[r._v("2.5 前端对应不同需求的请求"),v("h3")]),r._v(" "),v("table",[v("thead",[v("tr",[v("th",[r._v("前端的请求")]),r._v(" "),v("th",[r._v("传统方式")]),r._v(" "),v("th",[r._v("APIJSON")])])]),r._v(" "),v("tbody",[v("tr",[v("td",[r._v("User")]),r._v(" "),v("td",[r._v("base_url/get/user?id=38710")]),r._v(" "),v("td",[v("a",{attrs:{href:"http://apijson.cn:8080/get/%7B%22User%22:%7B%22id%22:38710%7D%7D",target:"_blank",rel:"noopener noreferrer"}},[r._v("base_url/get/"),v("br"),r._v("{"),v("br"),r._v('    "User":{'),v("br"),r._v('      "id":38710'),v("br"),r._v("    }"),v("br"),r._v("}"),v("OutboundLink")],1)])]),r._v(" "),v("tr",[v("td",[r._v("Moment和对应的User")]),r._v(" "),v("td",[r._v("分两次请求"),v("br"),r._v("Moment: "),v("br"),r._v(" base_url/get/moment?userId=38710"),v("br"),v("br"),r._v("User: "),v("br"),r._v(" base_url/get/user?id=38710")]),r._v(" "),v("td",[v("a",{attrs:{href:"http://apijson.cn:8080/get/%7B%22Moment%22:%7B%22userId%22:38710%7D,%22User%22:%7B%22id%22:38710%7D%7D",target:"_blank",rel:"noopener noreferrer"}},[r._v("base_url/get/"),v("br"),r._v("{"),v("br"),r._v('    "Moment":{'),v("br"),r._v('      "userId":38710'),v("br"),r._v("    }, "),v("br"),r._v('    "User":{'),v("br"),r._v('      "id":38710'),v("br"),r._v("    }"),v("br"),r._v("}"),v("OutboundLink")],1)])]),r._v(" "),v("tr",[v("td",[r._v("User列表")]),r._v(" "),v("td",[r._v("base_url/get/user/list?"),v("br"),r._v("page=0&count=3&sex=0")]),r._v(" "),v("td",[v("a",{attrs:{href:"http://apijson.cn:8080/get/%7B%22User%5B%5D%22:%7B%22page%22:0,%22count%22:3,%22User%22:%7B%22sex%22:0%7D%7D%7D",target:"_blank",rel:"noopener noreferrer"}},[r._v("base_url/get/"),v("br"),r._v("{"),v("br"),r._v('    "User[]":{'),v("br"),r._v('      "page":0,'),v("br"),r._v('       "count":3, '),v("br"),r._v('      "User":{'),v("br"),r._v('        "sex":0'),v("br"),r._v("      }"),v("br"),r._v("    }"),v("br"),r._v("}"),v("OutboundLink")],1)])]),r._v(" "),v("tr",[v("td",[r._v("Moment列表，"),v("br"),r._v("每个Moment包括"),v("br"),r._v("1.发布者User"),v("br"),r._v("2.前3条Comment")]),r._v(" "),v("td",[r._v("Moment里必须有"),v("br"),r._v("1.User对象"),v("br"),r._v("2.Comment数组"),v("br"),v("br"),r._v(" base_url/get/moment/list?"),v("br"),r._v("page=0&count=3&commentCount=3")]),r._v(" "),v("td",[v("a",{attrs:{href:"http://apijson.cn:8080/get/%7B%22%5B%5D%22:%7B%22page%22:0,%22count%22:3,%22Moment%22:%7B%7D,%22User%22:%7B%22id@%22:%22%252FMoment%252FuserId%22%7D,%22Comment%5B%5D%22:%7B%22count%22:3,%22Comment%22:%7B%22momentId@%22:%22%5B%5D%252FMoment%252Fid%22%7D%7D%7D%7D",target:"_blank",rel:"noopener noreferrer"}},[r._v("base_url/get/"),v("br"),r._v("{"),v("br"),r._v('    "[]":{'),v("br"),r._v('      "page":0, '),v("br"),r._v('      "count":3, '),v("br"),r._v('      "Moment":{}, '),v("br"),r._v('      "User":{'),v("br"),r._v('        "id@":"/Moment/userId"'),v("br"),r._v("      },"),v("br"),r._v('      "Comment[]":{'),v("br"),r._v('        "count":3,'),v("br"),r._v('        "Comment":{'),v("br"),r._v('          "momentId@":"[]/Moment/id"'),v("br"),r._v("        }"),v("br"),r._v("      }"),v("br"),r._v("    }"),v("br"),r._v("}"),v("OutboundLink")],1)])]),r._v(" "),v("tr",[v("td",[r._v("User发布的Moment列表，"),v("br"),r._v(" 每个Moment包括"),v("br"),r._v(" 1.发布者User"),v("br"),r._v(" 2.前3条Comment")]),r._v(" "),v("td",[r._v("1.Moment里必须有User对象和Comment数组"),v("br"),r._v(" 2.字段名必须查接口文档，例如评论数量字段名可能是"),v("br"),r._v(" commentCount,comment_count或者简写cmt_count等各种奇葩写法... "),v("br"),v("br"),r._v(" base_url/get/moment/list?"),v("br"),r._v("page=0&count=3"),v("br"),r._v("&commentCount=3&userId=38710")]),r._v(" "),v("td",[r._v("有以下几种方式:"),v("br"),v("br"),r._v(" ① 把以上请求里的"),v("br"),r._v('"Moment":{}, "User":{"id@":"/Moment/userId"}'),v("br"),r._v("改为"),v("br"),v("a",{attrs:{href:"http://apijson.cn:8080/get/%7B%22%5B%5D%22:%7B%22page%22:0,%22count%22:3,%22Moment%22:%7B%22userId%22:38710%7D,%22User%22:%7B%22id%22:38710%7D,%22Comment%5B%5D%22:%7B%22count%22:3,%22Comment%22:%7B%22momentId@%22:%22%5B%5D%252FMoment%252Fid%22%7D%7D%7D%7D",target:"_blank",rel:"noopener noreferrer"}},[r._v('"Moment":{"userId":38710}, "User":{"id":38710}'),v("OutboundLink")],1),r._v(" "),v("br"),v("br"),r._v(" ② 或把User放在上面的最外层省去重复的User"),v("br"),v("a",{attrs:{href:"http://apijson.cn:8080/get/%7B%22User%22:%7B%22id%22:38710%7D,%22%5B%5D%22:%7B%22page%22:0,%22count%22:3,%22Moment%22:%7B%22userId%22:38710%7D,%22Comment%5B%5D%22:%7B%22count%22:3,%22Comment%22:%7B%22momentId@%22:%22%5B%5D%252FMoment%252Fid%22%7D%7D%7D%7D",target:"_blank",rel:"noopener noreferrer"}},[r._v("base_url/get/"),v("br"),r._v("{"),v("br"),r._v('    "User":{'),v("br"),r._v('      "id":38710'),v("br"),r._v("    },"),v("br"),r._v('    "[]":{'),v("br"),r._v('      "page":0,'),v("br"),r._v('      "count":3, '),v("br"),r._v('      "Moment":{'),v("br"),r._v('        "userId":38710'),v("br"),r._v("      }, "),v("br"),r._v('      "Comment[]":{'),v("br"),r._v('        "count":3,'),v("br"),r._v('        "Comment":{'),v("br"),r._v('          "momentId@":"[]/Moment/id"'),v("br"),r._v("        }"),v("br"),r._v("      }"),v("br"),r._v("    }"),v("br"),r._v("}"),v("OutboundLink")],1),v("br"),v("br"),r._v(" ③ 如果User之前已经获取到了，还可以不传User来节省请求和返回数据的流量并提升速度"),v("br"),v("a",{attrs:{href:"http://apijson.cn:8080/get/%7B%22%5B%5D%22:%7B%22page%22:0,%22count%22:3,%22Moment%22:%7B%22userId%22:38710%7D,%22Comment%5B%5D%22:%7B%22count%22:3,%22Comment%22:%7B%22momentId@%22:%22%5B%5D%252FMoment%252Fid%22%7D%7D%7D%7D",target:"_blank",rel:"noopener noreferrer"}},[r._v("base_url/get/"),v("br"),r._v("{"),v("br"),r._v('    "[]":{'),v("br"),r._v('      "page":0,'),v("br"),r._v('      "count":3, '),v("br"),r._v('      "Moment":{'),v("br"),r._v('        "userId":38710'),v("br"),r._v("      },"),v("br"),r._v('      "Comment[]":{'),v("br"),r._v('        "count":3,'),v("br"),r._v('        "Comment":{'),v("br"),r._v('          "momentId@":"[]/Moment/id"'),v("br"),r._v("        }"),v("br"),r._v("      }"),v("br"),r._v("    }"),v("br"),r._v("}"),v("OutboundLink")],1)])])])]),r._v(" "),v("br"),r._v(" "),v("h3",{attrs:{id:"_2-6-后端对应不同请求的返回结果"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#_2-6-后端对应不同请求的返回结果"}},[r._v("#")]),r._v(" "),v("h3",{attrs:{id:"2.6"}},[r._v("2.6 后端对应不同请求的返回结果"),v("h3")]),r._v(" "),v("table",[v("thead",[v("tr",[v("th",[r._v("后端的返回结果")]),r._v(" "),v("th",[r._v("传统方式")]),r._v(" "),v("th",[r._v("APIJSON")])])]),r._v(" "),v("tbody",[v("tr",[v("td",[r._v("User")]),r._v(" "),v("td",[r._v("{"),v("br"),r._v('    "data":{'),v("br"),r._v('      "id":38710,'),v("br"),r._v('      "name":"xxx",'),v("br"),r._v("      ..."),v("br"),r._v("    },"),v("br"),r._v('    "code":200,'),v("br"),r._v('    "msg":"success"'),v("br"),r._v("}")]),r._v(" "),v("td",[r._v("{"),v("br"),r._v('    "User":{'),v("br"),r._v('      "id":38710,'),v("br"),r._v('      "name":"xxx",'),v("br"),r._v("      ..."),v("br"),r._v("    },"),v("br"),r._v('    "code":200,'),v("br"),r._v('    "msg":"success"'),v("br"),r._v("}")])]),r._v(" "),v("tr",[v("td",[r._v("Moment和对应的User")]),r._v(" "),v("td",[r._v("分别返回两次请求的结果，获取到Moment后取出userId作为User的id条件去查询User "),v("br"),v("br"),r._v(" Moment: "),v("br"),r._v(" {"),v("br"),r._v('    "data":{'),v("br"),r._v('      "id":235,'),v("br"),r._v('      "content":"xxx",'),v("br"),r._v("      ..."),v("br"),r._v("    },"),v("br"),r._v('    "code":200,'),v("br"),r._v('    "msg":"success"'),v("br"),r._v("} "),v("br"),v("br"),r._v(" User: "),v("br"),r._v(" {"),v("br"),r._v('    "data":{'),v("br"),r._v('      "id":38710,'),v("br"),r._v('      "name":"xxx",'),v("br"),r._v("      ..."),v("br"),r._v("    },"),v("br"),r._v('    "code":200,'),v("br"),r._v('    "msg":"success"'),v("br"),r._v("}")]),r._v(" "),v("td",[r._v("一次性返回，没有传统方式导致的 长时间等待结果、两次结果间关联、线程多次切换 等问题 "),v("br"),v("br"),r._v(" {"),v("br"),r._v('    "Moment":{'),v("br"),r._v('      "id":235,'),v("br"),r._v('      "content":"xxx",'),v("br"),r._v("      ..."),v("br"),r._v("    },"),v("br"),r._v('    "User":{'),v("br"),r._v('      "id":38710,'),v("br"),r._v('      "name":"xxx",'),v("br"),r._v("      ..."),v("br"),r._v("    },"),v("br"),r._v('    "code":200,'),v("br"),r._v('    "msg":"success"'),v("br"),r._v("}")])]),r._v(" "),v("tr",[v("td",[r._v("User列表")]),r._v(" "),v("td",[r._v("{"),v("br"),r._v('    "data":['),v("br"),r._v("      {"),v("br"),r._v('        "id":38710,'),v("br"),r._v('        "name":"xxx",'),v("br"),r._v("        ..."),v("br"),r._v("      },"),v("br"),r._v("      {"),v("br"),r._v('        "id":82001,'),v("br"),r._v("        ..."),v("br"),r._v("      },"),v("br"),r._v("      ..."),v("br"),r._v("    ],"),v("br"),r._v('    "code":200,'),v("br"),r._v('    "msg":"success"'),v("br"),r._v("}")]),r._v(" "),v("td",[r._v("{"),v("br"),r._v('    "User[]":['),v("br"),r._v("      {"),v("br"),r._v('        "id":38710,'),v("br"),r._v('        "name":"xxx",'),v("br"),r._v("        ..."),v("br"),r._v("      },"),v("br"),r._v("      {"),v("br"),r._v('        "id":82001,'),v("br"),r._v("        ..."),v("br"),r._v("      },"),v("br"),r._v("      ..."),v("br"),r._v("    ],"),v("br"),r._v('    "code":200,'),v("br"),r._v('    "msg":"success"'),v("br"),r._v("}")])]),r._v(" "),v("tr",[v("td",[r._v("Moment列表，每个Moment包括发布者User和前3条Comment")]),r._v(" "),v("td",[r._v("Moment里必须有"),v("br"),r._v("1.User对象"),v("br"),r._v("2.Comment数组 "),v("br"),v("br"),r._v(" {"),v("br"),r._v('    "data":['),v("br"),r._v("      {"),v("br"),r._v('        "id":235,'),v("br"),r._v('        "content":"xxx",'),v("br"),r._v("        ...,"),v("br"),r._v('        "User":{'),v("br"),r._v("          ..."),v("br"),r._v("        },"),v("br"),r._v('        "Comment":['),v("br"),r._v("          ..."),v("br"),r._v("        ]"),v("br"),r._v("      },"),v("br"),r._v("      {"),v("br"),r._v('        "id":301,'),v("br"),r._v('        "content":"xxx",'),v("br"),r._v("        ...,"),v("br"),r._v('        "User":{'),v("br"),r._v("          ..."),v("br"),r._v("        },"),v("br"),r._v("        ..."),v("br"),r._v("      },"),v("br"),r._v("      ..."),v("br"),r._v("    ],"),v("br"),r._v('    "code":200,'),v("br"),r._v('    "msg":"success"'),v("br"),r._v("}")]),r._v(" "),v("td",[r._v("1.高灵活，可任意组合"),v("br"),r._v("2.低耦合，逻辑很清晰"),v("br"),v("br"),r._v("{"),v("br"),r._v('    "[]":['),v("br"),r._v("      {"),v("br"),r._v('        "Moment":{'),v("br"),r._v('          "id":235,'),v("br"),r._v('          "content":"xxx",'),v("br"),r._v("          ..."),v("br"),r._v("        },"),v("br"),r._v('        "User":{'),v("br"),r._v("          ..."),v("br"),r._v("        },"),v("br"),r._v('        "Comment[]":['),v("br"),r._v("          ..."),v("br"),r._v("        ]"),v("br"),r._v("      },"),v("br"),r._v("      {"),v("br"),r._v('        "Moment":{'),v("br"),r._v('          "id":301,'),v("br"),r._v('          "content":"xxx",'),v("br"),r._v("          ..."),v("br"),r._v("        },"),v("br"),r._v('        "User":{'),v("br"),r._v("          ..."),v("br"),r._v("        },"),v("br"),r._v("        ..."),v("br"),r._v("      },"),v("br"),r._v("      ..."),v("br"),r._v("    ],"),v("br"),r._v('    "code":200,'),v("br"),r._v('    "msg":"success"'),v("br"),r._v("}")])]),r._v(" "),v("tr",[v("td",[r._v("User发布的Moment列表，每个Moment包括发布者User和前3条Comment")]),r._v(" "),v("td",[r._v("1.大量重复User，浪费流量和服务器性能"),v("br"),r._v("2.优化很繁琐，需要后端扩展接口、写好文档，前端/前端再配合优化"),v("br"),v("br"),r._v("{"),v("br"),r._v('    "data":['),v("br"),r._v("      {"),v("br"),r._v('        "id":235,'),v("br"),r._v('        "content":"xxx",'),v("br"),r._v("        ...,"),v("br"),r._v('        "User":{'),v("br"),r._v('          "id":38710,'),v("br"),r._v('          "name":"Tommy"'),v("br"),r._v("          ..."),v("br"),r._v("        },"),v("br"),r._v('        "Comment":['),v("br"),r._v("          ..."),v("br"),r._v("        ]"),v("br"),r._v("        ..."),v("br"),r._v("      },"),v("br"),r._v("      {"),v("br"),r._v('        "id":470,'),v("br"),r._v('        "content":"xxx",'),v("br"),r._v("        ...,"),v("br"),r._v('        "User":{'),v("br"),r._v('          "id":38710,'),v("br"),r._v('          "name":"Tommy"'),v("br"),r._v("          ..."),v("br"),r._v("        },"),v("br"),r._v('        "Comment":['),v("br"),r._v("          ..."),v("br"),r._v("        ]"),v("br"),r._v("        ..."),v("br"),r._v("      },"),v("br"),r._v("      {"),v("br"),r._v('        "id":511,'),v("br"),r._v('        "content":"xxx",'),v("br"),r._v("        ...,"),v("br"),r._v('        "User":{'),v("br"),r._v('          "id":38710,'),v("br"),r._v('          "name":"Tommy"'),v("br"),r._v("          ..."),v("br"),r._v("        },"),v("br"),r._v('        "Comment":['),v("br"),r._v("          ..."),v("br"),r._v("        ]"),v("br"),r._v("        ..."),v("br"),r._v("      },"),v("br"),r._v("      {"),v("br"),r._v('        "id":595,'),v("br"),r._v('        "content":"xxx",'),v("br"),r._v("        ...,"),v("br"),r._v('        "User":{'),v("br"),r._v('          "id":38710,'),v("br"),r._v('          "name":"Tommy"'),v("br"),r._v("          ..."),v("br"),r._v("        },"),v("br"),r._v('        "Comment":['),v("br"),r._v("          ..."),v("br"),r._v("        ]"),v("br"),r._v("        ..."),v("br"),r._v("      },"),v("br"),r._v("      ..."),v("br"),r._v("    ],"),v("br"),r._v('    "code":200,'),v("br"),r._v('    "msg":"success"'),v("br"),r._v("}")]),r._v(" "),v("td",[r._v("以上不同请求方式的结果:"),v("br"),v("br"),r._v(" ① 常规请求 "),v("br"),r._v(" {"),v("br"),r._v('    "[]":['),v("br"),r._v("      {"),v("br"),r._v('        "Moment":{'),v("br"),r._v('          "id":235,'),v("br"),r._v('          "content":"xxx",'),v("br"),r._v("          ..."),v("br"),r._v("        },"),v("br"),r._v('        "User":{'),v("br"),r._v('          "id":38710,'),v("br"),r._v('          "name":"Tommy"'),v("br"),r._v("          ..."),v("br"),r._v("        },"),v("br"),r._v('        "Comment[]":['),v("br"),r._v("          ..."),v("br"),r._v("        ]"),v("br"),r._v("      },"),v("br"),r._v("      ..."),v("br"),r._v("    ],"),v("br"),r._v('    "code":200,'),v("br"),r._v('    "msg":"success"'),v("br"),r._v("}"),v("br"),v("br"),r._v(" ② 省去重复的User "),v("br"),r._v(" {"),v("br"),r._v('    "User":{'),v("br"),r._v('      "id":38710,'),v("br"),r._v('      "name":"Tommy",'),v("br"),r._v("      ..."),v("br"),r._v("    },"),v("br"),r._v('    "[]":['),v("br"),r._v("      {"),v("br"),r._v('        "Moment":{'),v("br"),r._v('          "id":235,'),v("br"),r._v('          "content":"xxx",'),v("br"),r._v("          ..."),v("br"),r._v("        },"),v("br"),r._v('        "Comment[]":['),v("br"),r._v("          ..."),v("br"),r._v("        ]"),v("br"),r._v("      },"),v("br"),r._v("      ..."),v("br"),r._v("    ],"),v("br"),r._v('    "code":200,'),v("br"),r._v('    "msg":"success"'),v("br"),r._v("}"),v("br"),v("br"),r._v(" ③ 不查询已获取到的User "),v("br"),r._v(" {"),v("br"),r._v('    "[]":['),v("br"),r._v("      {"),v("br"),r._v('        "Moment":{'),v("br"),r._v('          "id":235,'),v("br"),r._v('          "content":"xxx",'),v("br"),r._v("          ..."),v("br"),r._v("        },"),v("br"),r._v('        "Comment[]":['),v("br"),r._v("          ..."),v("br"),r._v("        ]"),v("br"),r._v("      },"),v("br"),r._v("      ..."),v("br"),r._v("    ],"),v("br"),r._v('    "code":200,'),v("br"),r._v('    "msg":"success"'),v("br"),r._v("}")])])])]),r._v(" "),v("p",[r._v("1.base_url指基地址，一般是顶级域名，其它分支url都是在base_url后扩展。如base_url:http://apijson.cn:8080/ ，对应的GET分支url:http://apijson.cn:8080/get/ 。下同。"),v("br"),r._v("\n2.请求中的key或value任意一个为null值时，这个 key:value键值对 被视为无效。下同。"),v("br"),r._v("\n3.请求中的 / 需要转义。JSONRequest.java已经用URLEncoder.encode转义，不需要再写；但如果是浏览器或Postman等直接输入url/request，需要把request中的所有 / 都改成 %252F 。下同。"),v("br"),r._v("\n4.code，指返回结果中的状态码，200表示成功，其它都是错误码，值全部都是HTTP标准状态码。下同。"),v("br"),r._v("\n5.msg，指返回结果中的状态信息，对成功结果或错误原因的详细说明。下同。"),v("br"),r._v("\n6.code和msg总是在返回结果的同一层级成对出现。对所有请求的返回结果都会在最外层有一对总结式code和msg。下同。"),v("br"),r._v("\n7.id等字段对应的值仅供说明，不一定是数据库里存在的，请求里用的是真实存在的值。下同。")]),r._v(" "),v("br"),r._v(" "),v("br")])])])])])])])])}),[],!1,null,null,null);_.default=b.exports}}]);